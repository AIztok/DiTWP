---
title: 112_UE
draft: false
tags:
  - 3D
---

# Unser Beispiel

Um die wesentlichen Konzepte der digitalen Tragwerksplanung zu veranschaulichen, werden wir ein einfaches Gebäudemodell aufbauen.

Wir stützen uns dabei auf den Halbrahmen aus der Übung Stahlbetonbau:
https://aiztok.github.io/SBB/011_Einfuehrungsbeispiel.html

<iframe width="640" height="480" style="border:1px solid #eeeeee;" src="https://3dviewer.net/embed.html#model=https://raw.githubusercontent.com/AIztok/SBB/main/docs/FH_SBB_Einfuehrungsbeispiel.ifc$camera=-1.97859,-4.14302,-6.48807,2.81250,-0.60000,0.50000,0.00000,-1.00000,0.00000,45.00000$projectionmode=perspective$envsettings=fishermans_bastion,off$backgroundcolor=42,43,46,255$defaultcolor=200,200,200$defaultlinecolor=100,100,100$edgesettings=off,0,0,0,1"></iframe>

# Was lernen wir?

- Wie man eine Knowledge Database sich bauen kann.
- Eine Handskizze eines Halbrahmens ins Rhino überführt und von dort ins Grasshopper wo es parametrisiert wird.
- Das parametrisierte Modell wird so abstrahiert, dass es für das erstellen eines Finite Elemente Stabmodells angewendet werden kann. 

Bei der Modellierung und Parametrisierung werden wir wie folgend vorgehen:

![[Pasted image 20240623000127.png|300]]

![[Pasted image 20240623000143.png|300]]

![[Pasted image 20240623000418.png|300]]

![[Pasted image 20240623000441.png|300]]

# Personal oder Project knowledge Database anlegen

## Speichern der Vorlagen der LVA

Diese Internetseite: https://aiztok.github.io/DiTWP/
ist eine Sammlung von Markdown Dateien [[131_Markdown]], und kann komplett Lokal gespeichert werden als Quellcode:

https://github.com/AIztok/DiTWP

![[Pasted image 20240830112519.png]]

Nach dem entpacken der Zip-Datei liegen die Markdown Files im Ordner *content*:
![[Pasted image 20240830112910.png]]

![[Pasted image 20240830113003.png]]

Alternativ, wenn man bei GitHub registriert ist, kann das Repositorium auch geforkt werden - somit werden Änderungen gemeldet.

## Öffnen der Vorlagen

Die .md Dateien in den einzelnen Ordnern können mit beliebigen Programmen zum lesen von ASCII Dateien geöffnet werden (z.B. Notepad), jedoch wird empfohlen [[018_Obsidian]] zu verwenden.

Der Ordner kann als ein Vault eingelesen werden.

Unten Links im Obsidian:
![[Pasted image 20240830113113.png|300]]

Open folder as vault:

![[Pasted image 20240830113404.png|300]]

Hier einfach den Ordner *content* auswählen, und die Ordner und Dateien werden in Obsidian geöffnet:

![[Pasted image 20240830113524.png]]

Hier können dann zusätzliche eigene Notizen ergänzt werden oder die Dateien wie gewünscht bearbeitet werden.

# Übung Skizze ins parametrische Modell umwandeln

## Handskizze mit grundlegenden Überlegungen 

Oft erfolgen erste Überlegungen über eine Konstruktion anhand von Handskizzen, oder Vorentwurfe werden in 2D mit dem Tragwerksplaner geteilt.

In unseren Fall ist es ein einfacher Halbrahmen, der zwar direkt in Rhino gezeichnet werden könnte, aber das Ziel ist den Ablauf, der auch für kompliziertere Skizzen anwendbar ist, darzustellen.
![[Pasted image 20240622163738.png|500]]

Die Skizze findet man hier zum herunterladen [[#Skizze]] werden.

## Handskizze im Rhino eingelesen

Der nächste Schritt ist die Handskizze ins Rhino einzulesen.

In der Befehlsleiste eingeben `Bild` oder in Englisch `Picture` . 
	Mit `_` (Unterstrich) können in Deutschen Version Englische Befehle eingegeben werden.

![[Pasted image 20240622165116.png]]

Befehl:

![[Pasted image 20240622164339.png]]

Das Bild wird in die XZ Ebene platziert, mit dem zweiten Punkt wird ungefähr eine Größe des Bildes gewählt.

![[Pasted image 20240622165759.png]]

Mit dem Befehl `Skalierung` kann das Bild skaliert werden:
1. Befehl: Skalierung
2. Objekt auswähle: Bild auswählen + Eingabetaste / Enter
3. Basispunkt von wo skaliert wird auswählen, z.B. 0,0
4. Skalierungsfaktor eingeben oder zweiten und dritten Referenzpunkt wählen zum Skalieren mit der Maus

Und mit dem Befehl `Verschieben` kann das Bild verschoben werden. 

![[100_Rhino_Verschieben.gif]]

## Geometrie im Rhino erstellen

Mit dem Befehl `Rechteck` kann ein Rechteck definiert mit zwei Eckpunkten erstellt werden.

![[100_Rhino_Rechteck.gif]]

Danach kann das Bild ausgeblendet werden:

![[Pasted image 20240622172735.png]]


## Geometrie ins Grasshopper überführen

Um die in Rhino erstellten Geometrien / Rechtecke mit Grasshopper zu bearbeiten, ist es notwendig eine Verbindung zu erstellen.

Grasshopper öffnen:

![[Pasted image 20240901101951.png]]

Doppelclick auf Canvas und nach `Curve` suchen und auswählen:

![[Pasted image 20240901102157.png]]

Im Rhino Fenster ein Rechteck auswählen:

![[Pasted image 20240622173205.png]]

Und danach im Grasshopper die Komponente `Curve` einfügen / Rechte Maus Taste / Set one Curve:

![[Pasted image 20240622173147.png]]

Somit wird eine Geometrie in Rhino einer Grasshopper Komponente zugewiesen.
## Parameter

Es werden Parameter definiert - im unseren Fall begrenzen wir uns auf geometrische Parameter wie:
- Wand- bzw. Deckendicke
- Wandhöhe
- Länge der Decke
- Breite des Halbrahmens

Um den Grasshopper canvas übersichtlich zu behalten, ist es sinnvoll die numerischen Parameter mit der Komponenten `Number`  zu verbinden und dabei einen versteckten / hidden Verbindungstyp zu wählen (siehe [[013_Grasshopper#Verbindungen / Wires]]). 
Zum beschriften der Komponenten siehe [[013_Grasshopper#Komponenten Beschriften]].

Auf der Abbildung unten handelt es sich um folgende Komponenten:
- Number Slider 
- Panel
- Number

![[Pasted image 20240622232313.png]]

## Rhino Geometrie in Einzelteile zerlegen

In den folgenden Schritten wird nur für die 

Mit der Komponente `Deconstruct BREP` können BREPs (Boundary representation) in Ihre Einzelteile zerlegt werden, damit wir die auch nachträglich manipulieren / parametrisieren können:
- Flächen / Faces = Fläche / Surface
- Ecken / Edges = Linie / Line
- Eckpunkte / Vertices = Punkte / Points

![[Pasted image 20240622174035.png]]

## Nummern der Eckpunkte anzeigen

Für die Manipulation der Geometrie wird es wichtig sein, sich auf die richtigen Punkte des Rechtecks zu beziehen. Um die Nummerierung der Punkte leicht nachzuvollziehen, werden wir uns die darstellen lassen.

Die Nummerierung der Punkte kann relativ einfach mit folgenden Komponenten im Rhino angezeigt werden:
- `List Length`: gibt die Anzahl von Elementen in einer Liste, in unseren Fall 4, da vier Eckpunkte
- `Series`: erstellt eine Liste von Zahlen (von, Schritt, Anzahl)
- `Text Tag`: Einfügen von Text aus einer Liste an eine Koordinaten / Punkt

![[Pasted image 20240622174357.png]]

Die oberen Komponenten zeigen im Rhino die Punkte an:

![[Pasted image 20240622174717.png]]


## Koordinaten der Eckpunkte parametrisch gestalten 

Die Eckpunkte werden zuerst in X, Y, Z zerlegt und die gewünschten Werte entsprechend den Parametern ausgetauscht und die Punkte wieder erstellt.

In der Abbildung unten werden folgende Komponenten verwendet:
- Deconstruct (einen Punkt auf X, Y, Z zerlegen)
- Panel (zur Darstellung und Eingabe)
- Replace Items (Komponente wo eine Liste manipuliert wird, in unseren Fall Einzelteile ersetzt)
- Construct point

![[Pasted image 20240622234419.png]]

Wichtig ist bei den Panels wo wir in mehreren Zeilen Nummern eingeben, dass "Multiline Data" ausgewählt ist (Rechtclick auf das Panel). 

![[Pasted image 20240901102956.png|300]]

Es wird noch ein zusätzlicher Punkt in Feldmitte der Decke hinzugefügt. 

## Erstellen von Linien und Flächen

Aus den angepassten Punkten werden Linien erstellt, und aus den Linien Flächen.

Dafür nehmen wir die erstellten Punkte und machen eine neue Liste der Punkte, die aber um 1 Punkt verschoben ist. Sprich der Punkt auf Stelle 0 wird auf Stelle 1 verschoben, 1 auf 2, 2 auf 3 und 4 auf 0 (wir haben nur 4 Punkte).
Nicht vergessen, bei Grasshopper beginnt man bei 0 zu Zählen.

In der Abbildung unten werden folgende Komponenten verwendet:
- Construct point (vorheriger Schritt)
- Shift List (die Liste der Punkte wird um 1 verschoben)
- Panel (zur Darstellung und Eingabe)
- Line (Linie auf Anfangs- und Endpunkt)
- Boundary Surfaces (erstellen einer BREP aus eine Liste geschlossenen Linien)

![[Pasted image 20240901104617.png]]

Oben wurden nur die Schritte für die Decke dargestellt. Für die Wand sind die Schritte ident.
## Extrudieren der Flächen

Um ein 3D Modell zu erstellen, werden die erzeugten Flächen extrudiert.

In der Abbildung unten werden folgende Komponenten verwendet:
- Number (Breite als Parameter)
- Unit Y (Vektor in Y Richtung - gewählte Richtung der Extrusion)
- Extrude (Auswahl Geometrie die extrudiert werden soll, in unseren Fall die Komponente `Boundary Surfaces` und die Richtung)

![[Pasted image 20240901104127.png]]

## Abschluss

Wir haben somit ein parametrisches Modell des Halbrahmen im Grasshopper / Rhino.
Dieses Modell wird die Grundlage für die nächsten Übungen.

![[Pasted image 20240901104912.png]]



# Unterlagen

## Skizze
Die Skizze kann [hier heruntergeladen](https://github.com/AIztok/DiTWP_Data/blob/main/112_UE/DiTWP_Skizze_Halbrahmen.PNG?raw=true)werden.

## Rhino
Die Rhino (.3dm) Datei mit den erstellten Rechtecken kann [hier heruntergeladen](https://github.com/AIztok/DiTWP_Data/blob/main/112_UE/DiTWP_GH_Skizze-Parametrisch.3dm) werden.

![[Pasted image 20240901101740.png]]

## Grasshopper
Das Grasshopper File für die oberen Schritte kann [hier heruntergeladen](https://github.com/AIztok/DiTWP_Data/blob/main/112_UE/DiTWP_GH_Skizze-Parametrisch.gh) werden.






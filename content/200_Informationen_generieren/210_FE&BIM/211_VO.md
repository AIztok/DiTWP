---
title: 211_VO
draft: false
tags:
  - "#FEM"
  - "#BIM"
  - IFC
---

# Unterschied zwischen geometrischen Modell, Finite-Elemente-Modell und BIM-Modellen

## Allgemein

Um den Unterschied zwischen den verschiedenen Modellen zu verstehen, muss man sich nur die Informationen ansehen die diese benötigen um erstellt zu werden bzw. welche tragen die.

## Welche Informationen trägt ein Geometriemodell

Das 3D Modell, dass bei der Übung für das Übungsbeispiel erstellt worden ist, besteht im wesentlichen aus zwei Begrenzungsflächenmodellen oder s.g. BREP ([Boundary Representation](https://de.wikipedia.org/wiki/Boundary_Representation)) was eine Darstellungsform eines Flächen- oder Volumenmodells ist.
Brep-Modell sind also zusammengesetzte Oberflächenbereiche.

![[211_3D_Modell.png]]

## Step und stl

Oft verwendete Datenformate für den Austausch von Geometriedaten sind STEP und STL, mehr zu den Formaten hier: [[136_STEP&STL]]

Die STEP Dateien ist eine ASCII Datei und schaut für unser einfaches Beispiel wie folgend aus:
[DiTWP_GH_STEP_EXPORT.stp](https://github.com/AIztok/DiTWP_Data/blob/main/211_VO/DiTWP_GH_STEP_Export.stp)

Wir sehen, dass die Formatierung der Datei ähnlich ist wie das IFC Format [[134_IFC]].

Die Step oder Stl Datei kann auch über [[323_Online_3D_viewer]] angezeigt werden:
https://3dviewer.net/#model=https://github.com/AIztok/DiTWP_Data/blob/main/211_VO/DiTWP_GH_STEP_Export.stp

<iframe width="640" height="480" style="border:1px solid #eeeeee;" src="https://3dviewer.net/embed.html#model=https://raw.githubusercontent.com/AIztok/DiTWP_Data/main/211_VO/DiTWP_GH_STEP_Export.stp$camera=-509.55628,-6519.11257,6404.40838,3000.00000,500.00000,1725.00000,0.00000,-0.00000,1.00000,45.00000$projectionmode=perspective$envsettings=fishermans_bastion,off$backgroundcolor=95,95,95,255$defaultcolor=200,200,200$defaultlinecolor=100,100,100$edgesettings=off,0,0,0,0"></iframe>

## Speckle Dienst

Eine gute Art und Weise sich die Informationen die unser 3D Modell im Rhino bzw. im Grasshopper trägt, ist, wenn das geometrische Modell einfach über Speckle (siehe [[321_Speckle]]) hochladen und uns dort das Modell ansehen:

[Halbrahmen in Speckle](https://app.speckle.systems/projects/eba1405a21/models/43683202a8)

bzw. hier visualisiert:
<iframe title="Speckle" src="https://app.speckle.systems/projects/eba1405a21/models/43683202a8#embed=%7B%22isEnabled%22%3Atrue%7D" width="600" height="400" frameborder="0"></iframe>

Über den Excel Connector von Speckle (siehe [[321_Speckle]]) können auch die geometrischen Daten in tabellarischer Form angesehen / gespeichert werden.
Mehr zu der Schnittstelle mit Speckle in der Übung [[312_UE]].

## Welche Informationen trägt ein FE Modell

### Allgemein

Das Finite Elemente Modell (im folgenden FE Modell) ist oft eine Abstrahierung des geometrischen Modells in ein Berechnungsmodell auf Basis der Finite Elemente Methode (siehe [[221_Finite_Elemente_Methode]]), wo nur für die statische (oder dynamische) Berechnung relevanten Daten berücksichtigt werden, dafür aber zusätzliche Informationen benötigt werden (z.B. Materialparameter, Belastung, Regeln für Überlagerung der Lasten, Bemessungsregeln).

Die Erforderlichen Informationen für die Schnittgrößenermittlung des Übungsbeispiels können wir uns hier ansehen [[221_Finite_Elemente_Methode#Beispiel des Halbrahmens]]].

Visualisiertes FE-Modell des Beispiels von der Übung:

![[Pasted image 20240728171553.png]]

Hierbei ist es wichtig zu unterscheiden welche Informationen trägt die Datei des FE-Modells (Eingabedatei, die Datenbasisdatei) und welche Daten das Berechnungsprogramm. 

Das verwendete Berechnungsprogramm selber hat in der Regel neben des "Berechnungskerns" verschieden Datenbanken für pre- und postprocessing inkludiert wie:
- Materialdatenbank für verschiedene Normen mit physikalische Materialeigenschaften (E-Modul, Wichte, Festigkeit, Arbeitsdiagramm und weitere)
- Querschnittsdatenbank (z.B. Stahlprofile)
- Einwirkungsarten, Einwirkungskombinationen, Lastendefinitionen
- Finite Elemente (Stabelement, Flächenelement, Volumenelement, Feder, Kopplung usw.)
- Bemessungsregeln je nach Norm

Ein FE Modell trägt im wesentlichen die folgenden Informationen:
- Material:
	- Materialnummer zur Identifikation des Materials
- Querschnitt:
	- Querschnittnummer
	- Querschnittbezeichnung gem. Programmspezifischer Definition
	- Verwendete Materialnummer
- Geometrie:
	- Knoten (Lage, Festhaltung)
	- Stäbe (Anfangs- und Endknoten, Querschnitt)
	- Flächenelemente (Eckknoten, Dicke, Material)
	- Volumenelemente (Eckknoten, Material)
	- Federn (Referenzierte Knoten, Steifigkeiten)
	- Kopplungen (Referenzierte Knoten)
	- und weitere Elemente
- Belastung:
	- Informationen zur Belastung die auf die einzelnen FE-Elemente wirkt (Knoten-, Stab-, Flächenlasten), Lastfallnummern, Überlagerung der Lastfälle
- Ergebnisse:
	- Verformungen, Schnittgrößen, Spannungen, Bemessungsergebnisse für die einzelnen FE-Elemente

In den meisten Fällen ist um die FE-Modell Datei korrekt zu lesen / interpretieren genau die Software, mit der das FE-Modell erstellt worden ist, erforderlich. 
Wie unten vorgestellt gibt es Umwege und Bestrebungen eine Zusammenarbeit mit verschiedenen Berechnungsprogrammen im Bereich von Preprocessing und PostProcessing zu ermöglichen.

Um die Datenstruktur zu veranschaulichen werden wir uns im folgenden diese für das Übungsbeispiel näher ansehen.

### Sofistik Eingabedatei (.dat und .sofistik) und Datenbasis (.cdb)

Beispiel der Eingabedatei für Sofistik in ASCII Format für das Übungsbeispiel:

```javascript
+PROG AQUA
HEAD 'Materialangabe'
PAGE UNII 0
CTRL REST 1

// -------------------------------- User Text -------------------------------------
$----------------------------------------------------------------------------------
!*! Angabe der Norm
NORM OEN en199X-200X unit 0 !
$----------------------------------------------------------------------------------
!*! Umfang der Ausgabe
echo full extr
$----------------------------------------------------------------------------------
!*! Beton
CONC NO 1  TYPE c 30N           titl 'Beton C30/37 Normalerhärtend'
!
$----------------------------------------------------------------------------------
!*! Bewehrung
STEE NO 101 TYPE b 550b titl 'Bewehrung B550B'

END

+PROG AQUA
HEAD
PAGE UNII 0
CTRL REST 1

// -------------------------------- Sections --------------------------------------
SECT 2 MNO 1 TITL 'Decke'

POLY TYPE O
VERT '10' -0.5 0.15000000596046448
VERT '20' -0.5 -0.15000000596046448
VERT '30' 0.5 -0.15000000596046448
VERT '40' 0.5 0.15000000596046448
VERT '10' -0.5 0.15000000596046448

RF NO '100' Y -0.4699999988079071 Z 0.12000000476837158 LAY '1' MRF 101 TORS ACTI D 10
RF NO '101' Y -0.33571428060531616 Z 0.12000000476837158 LAY '1' MRF 101 TORS ACTI D 10
RF NO '102' Y -0.20142856240272522 Z 0.12000000476837158 LAY '1' MRF 101 TORS ACTI D 10
RF NO '103' Y -0.06714282929897308 Z 0.12000000476837158 LAY '1' MRF 101 TORS ACTI D 10
RF NO '104' Y 0.06714287400245667 Z 0.12000000476837158 LAY '1' MRF 101 TORS ACTI D 10
RF NO '105' Y 0.2014285773038864 Z 0.12000000476837158 LAY '1' MRF 101 TORS ACTI D 10
RF NO '106' Y 0.33571431040763855 Z 0.12000000476837158 LAY '1' MRF 101 TORS ACTI D 10
RF NO '107' Y 0.4699999988079071 Z 0.12000000476837158 LAY '1' MRF 101 TORS ACTI D 10
RF NO '200' Y -0.4699999988079071 Z -0.12000000476837158 LAY '2' MRF 101 TORS ACTI D 10
RF NO '201' Y -0.33571428060531616 Z -0.12000000476837158 LAY '2' MRF 101 TORS ACTI D 10
RF NO '202' Y -0.20142856240272522 Z -0.12000000476837158 LAY '2' MRF 101 TORS ACTI D 10
RF NO '203' Y -0.06714282929897308 Z -0.12000000476837158 LAY '2' MRF 101 TORS ACTI D 10
RF NO '204' Y 0.06714287400245667 Z -0.12000000476837158 LAY '2' MRF 101 TORS ACTI D 10
RF NO '205' Y 0.2014285773038864 Z -0.12000000476837158 LAY '2' MRF 101 TORS ACTI D 10
RF NO '206' Y 0.33571431040763855 Z -0.12000000476837158 LAY '2' MRF 101 TORS ACTI D 10
RF NO '207' Y 0.4699999988079071 Z -0.12000000476837158 LAY '2' MRF 101 TORS ACTI D 10

SECT 1 MNO 1 TITL 'Wand'

POLY TYPE O
VERT '10' -0.5 0.125
VERT '20' -0.5 -0.125
VERT '30' 0.5 -0.125
VERT '40' 0.5 0.125
VERT '10' -0.5 0.125

RF NO '100' Y -0.4749999940395355 Z 0.10000000149011612 LAY '1' MRF 101 TORS ACTI D 10
RF NO '101' Y -0.3392857015132904 Z 0.10000000149011612 LAY '1' MRF 101 TORS ACTI D 10
RF NO '102' Y -0.20357143878936768 Z 0.10000000894069672 LAY '1' MRF 101 TORS ACTI D 10
RF NO '103' Y -0.06785713136196136 Z 0.09999999403953552 LAY '1' MRF 101 TORS ACTI D 10
RF NO '104' Y 0.06785717606544495 Z 0.10000000149011612 LAY '1' MRF 101 TORS ACTI D 10
RF NO '105' Y 0.20357145369052887 Z 0.10000000149011612 LAY '1' MRF 101 TORS ACTI D 10
RF NO '106' Y 0.3392857015132904 Z 0.10000000149011612 LAY '1' MRF 101 TORS ACTI D 10
RF NO '107' Y 0.4749999940395355 Z 0.10000000149011612 LAY '1' MRF 101 TORS ACTI D 10
RF NO '200' Y -0.4749999940395355 Z -0.10000000149011612 LAY '2' MRF 101 TORS ACTI D 10
RF NO '201' Y -0.3392857015132904 Z -0.10000000149011612 LAY '2' MRF 101 TORS ACTI D 10
RF NO '202' Y -0.20357143878936768 Z -0.10000000894069672 LAY '2' MRF 101 TORS ACTI D 10
RF NO '203' Y -0.06785713136196136 Z -0.09999999403953552 LAY '2' MRF 101 TORS ACTI D 10
RF NO '204' Y 0.06785717606544495 Z -0.10000000149011612 LAY '2' MRF 101 TORS ACTI D 10
RF NO '205' Y 0.20357145369052887 Z -0.10000000149011612 LAY '2' MRF 101 TORS ACTI D 10
RF NO '206' Y 0.3392857015132904 Z -0.10000000149011612 LAY '2' MRF 101 TORS ACTI D 10
RF NO '207' Y 0.4749999940395355 Z -0.10000000149011612 LAY '2' MRF 101 TORS ACTI D 10

END

+PROG SOFIMSHC
HEAD Model
PAGE UNII 0
SYST 3D GDIR NEGZ GDIV -1000
CTRL INIT 7
CTRL TOLG 0.010000
CTRL MESH 1
CTRL HMIN 1.0000
CTRL TOPO XFLG 0
CTRL NODE 1000

// -------------------------------- Structural Elements ---------------------------

// ------------------------ Structural Points ---------------------
SPT 1 X 0.00000000 0.00000000 0.00000000 FIX PXPYPZMXMYMZ
SPT 2 X 0.00000000 0.00000000 3.15000000
SPT 3 X 3.00000000 0.00000000 3.15000000
SPT 4 X 6.00000000 0.00000000 3.15000000 FIX PZ

// ------------------------ Structural Lines ----------------------
SLN 101 GRP 1 SNO 1 DRX 0.000000 0.000000 -1.000000
 SLNB X1 0.00000000 0.00000000 0.00000000  X2 0.00000000 0.00000000 3.15000000
SLN 102 GRP 1 SNO 2 DRX 0.000000 0.000000 -1.000000
 SLNB X1 0.00000000 0.00000000 3.15000000  X2 3.00000000 0.00000000 3.15000000
SLN 103 GRP 1 SNO 2 DRX 0.000000 0.000000 -1.000000
 SLNB X1 3.00000000 0.00000000 3.15000000  X2 6.00000000 0.00000000 3.15000000

END

+PROG SOFILOAD
HEAD
PAGE UNII 0

// -------------------------------- Loads -----------------------------------------
LC 1 TYPE G FACD 1.000 TITL 'EGW'


LC 10 TYPE Q TITL 'Nutzlast'

POIN AUTO - TYPE PZZ -50.000000 X 3.000000 0.000000 3.150000

LC 20 TYPE W TITL 'Wind'

LINE AUTO - TYPE PZZ -0.800000 X1 0.000000 0.000000 3.150000 X2 3.000000 0.000000 3.150000
LINE AUTO - TYPE PZZ -0.800000 X1 3.000000 0.000000 3.150000 X2 6.000000 0.000000 3.150000

LC 30 TYPE S TITL 'Schnee'

LINE AUTO - TYPE PXX 1.000000 X1 0.000000 0.000000 0.000000 X2 0.000000 0.000000 3.150000

END
    
```


Die reine Sofistik Datei, ist ohne Ergebnisse der Berechnung, es beinhaltet nur den Preprocessing. Die Ergebnisse der Berechnung werden separat in einer Datenbasis (.cdb) gespeichert. 

Öffnen der Datenbasis:

![[Pasted image 20240728174448.png]]

Struktur der Datenbasis:

![[Pasted image 20240728174610.png]]

Um die Struktur / Nummerierung der Datenbank in Sofistik zu verstehen, muss man sich das dazugehörige Handbuch ansehen:

	"Pfad...\SOFiSTiK\2024\SOFiSTiK 2024\cdbase.chm"

![[Pasted image 20240728174910.png]]

Aus dem oberen Beispiel ist ersichtlich, dass jede Software ein klare Datenbank haben muss, damit die Daten sinnvoll gespeichert sind, aber das der Zugriff ohne der gleichen Software auf diese nicht unbedingt trivial oder einfach ist - seitens Sofistik wird ermöglicht über Programmierschnittstellen (VBA, Python, C++, C# und weitere) auf die Datenbank zuzugreifen, mehr dazu [hier](https://docs.sofistik.com/2024/en/cdb_interfaces/index.html).

Deswegen gibt es Bestrebungen die statisch relevanten Modelldaten über Datenformate zu speichern, wo bereits alle relevanten Daten inkludiert sind.

### IFC Structural 
Exportierte IFC Structural Datei (ASCII Format) für unseren Beispiel, siehe auch [[134_IFC#IFC Structural]]:

[hier die IFC Structural Datei ansehen](https://github.com/AIztok/DiTWP_Data/blob/main/211_VO/DiTWP_GH_UE-1.ifc)

Der Export von IFC Dateien erfolgt in Sofistik wie folgend [[412_UE#Export IFC Structural aus SOFiSTiK]].

### SAF
Exportierte SAF Datei (XLSX Format) von unseren Beispiel schaut wie folgend aus:

<iframe
height = 400
width = 100%
src="https://docs.google.com/spreadsheets/d/1fQwkztkOy3m1DruOVw6Ss3YY3LC4QLDX/pubhtml?widget=true&amp;headers=false"></iframe>

Die XLSX Datei kann [hier gesehen/heruntergeladen werden](https://docs.google.com/spreadsheets/d/1fQwkztkOy3m1DruOVw6Ss3YY3LC4QLDX/edit?usp=sharing&ouid=107095587942628019482&rtpof=true&sd=true).

Wir sehen den Unterschied zwischen IFC Structural und SAF, letztes ist gedacht dass es auch von Menschen einfach gelesen und verstanden werden kann, wobei IFC nicht darauf zielt.

## Welche Informationen trägt ein BIM Modell

Wir begrenzen uns auf die Informationen die gem. dem gültigen IFC Schema eine IFC Datei trägt. Grund dafür ist, dass die einzelnen Programme (wie Revit, Tekla, Archicad) natürlich ein mehr programmspezifische Informationen tragen können.

Wir schauen uns das BIM Modell des Halbrahmens, das wir über Speckle (siehe [[321_Speckle]]) aus Grasshopper in eine BIM Software ([[015_Blender & BlenderBIM]]) übertragen haben (siehe [[412_UE#Übertragen des Modells von Speckle ins BlenderBIM]]).

## Nur Geometrie
Wir schauen uns an ein IFC File wo nur die Geometrie abgebildet wird:
https://github.com/AIztok/DiTWP_Data/blob/main/412_UE/DiTWP_Halbrahmen_Geometrie_v00.ifc

## Material



## PSETs


## Bauphasen










